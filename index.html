<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Yacine TV</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
  </style>
</head>
<body class="bg-red-700 text-white">
  <!-- Main Container -->
  <div class="flex flex-col items-center min-h-screen">
    <!-- Logo Section -->
    <div class="flex items-center justify-center h-1/3 w-full">
      <div class="text-center">
        <h1 class="text-6xl font-bold">
          YACINE
          <span class="text-white bg-red-700 px-2">TV</span>
        </h1>
      </div>
    </div>
    <!-- Menu Section -->
    <div class="w-full px-4">
      <div class="bg-red-600 p-4 rounded-lg shadow-lg">
        <div class="flex justify-between items-center mb-4">
          <i class="fas fa-bars text-2xl"></i>
          <h2 class="text-xl font-bold">Yacine TV</h2>
          <i class="fas fa-search text-2xl"></i>
        </div>
        <!-- هنا ستُضاف أزرار القنوات بشكل ديناميكي -->
        <div id="menuContainer" class="space-y-4"></div>
      </div>
    </div>
    <!-- Channels Section -->
    <div class="w-full px-4 mt-4">
      <div class="bg-red-600 p-4 rounded-lg shadow-lg">
        <div class="flex justify-between items-center mb-4">
          <i class="fas fa-arrow-left text-2xl"></i>
          <h2 class="text-xl font-bold">ARABIC CHANNELS</h2>
          <i class="fas fa-search text-2xl"></i>
        </div>
        <div class="grid grid-cols-3 gap-4">
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Algeria" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/BCGrgyVMfwlPSsxYD6ySOfwfz5WRXQm2NrsylJJO7QA.jpg" width="100"/>
            <p class="text-red-700 font-bold">ALGERIA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Morocco" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/n_KvEDQVyos_H2wtGbfPql4oqlyi_rgYOoPUmqsU9ns.jpg" width="100"/>
            <p class="text-red-700 font-bold">MOROCCO</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Tunisia" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/JSayvFqfJjS9tgesnsHUWzLPRThIn-IgkthvBlKv8YY.jpg" width="100"/>
            <p class="text-red-700 font-bold">TUNISIA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Libya" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/HBije4T7_-FSvme8KwpLZXu__JifIt2ngxE8j_4R0Mc.jpg" width="100"/>
            <p class="text-red-700 font-bold">LIBYA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Egypt" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/frDdOuCDIXutoge_dx8_n3bHgmAmSn31rXHyk8OJtDE.jpg" width="100"/>
            <p class="text-red-700 font-bold">EGYPT</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Saudi Arabia" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/Bp05TYJAUr90Jj8mqjdZ_kq2O6PN-6QD-LSiTscH5YE.jpg" width="100"/>
            <p class="text-red-700 font-bold">SAUDI ARABIA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of UAE" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/5NAXpXzCwmZyfV-8E1gTrE4sOkqZnFNJGeWpYZQxIOM.jpg" width="100"/>
            <p class="text-red-700 font-bold">UEA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Palestine" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/8ro1N5bLn5j8VZePfzlMr7dFehcWkU1J_t36U2qx1pc.jpg" width="100"/>
            <p class="text-red-700 font-bold">PALESTINE</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Jordan" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/YpEOauKfLZ26_nhaStIQCqNptiRvxgLwdyANLUQM-l8.jpg" width="100"/>
            <p class="text-red-700 font-bold">JORDAN</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Lebanon" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/4TVSRjxS5d8U4J5HMRnbhYICFbdYuuiC1Rm1o6KlFHY.jpg" width="100"/>
            <p class="text-red-700 font-bold">LEBANON</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Syria" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/A4qXkaOCU1mvhPVSna7MvoechkALaWLPMJR4VitZZik.jpg" width="100"/>
            <p class="text-red-700 font-bold">SYRIA</p>
          </div>
          <div class="bg-white p-2 rounded-lg text-center">
            <img alt="Flag of Iraq" class="mx-auto mb-2" height="100" src="https://storage.googleapis.com/a1aa/image/nRt1bhbn2jEnsZlhFFzpF0kynwXaN1Och7G2u9R9vi0.jpg" width="100"/>
            <p class="text-red-700 font-bold">IRAQ</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Video Player Modal -->
  <div id="videoPlayerModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg p-4 w-11/12 md:w-1/2">
      <div class="flex justify-between items-center mb-4">
        <h2 id="channelName" class="text-xl font-bold text-red-700"></h2>
        <button onclick="closeVideoPlayer()" class="text-red-700 text-2xl">&times;</button>
      </div>
      <div class="mb-4">
        <img id="channelLogo" class="mx-auto mb-2" height="100" width="100" alt="Channel Logo"/>
      </div>
      <video id="videoPlayer" class="w-full" controls>
        <source id="videoSource" type="application/x-mpegURL">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>

  <script>
    // دالة فتح مشغل الفيديو
    function openVideoPlayer(channel, url, logo) {
      document.getElementById('channelName').innerText = channel;
      document.getElementById('videoSource').src = url;
      document.getElementById('channelLogo').src = logo;
      document.getElementById('videoPlayer').load();
      document.getElementById('videoPlayerModal').classList.remove('hidden');
    }
    // دالة إغلاق مشغل الفيديو
    function closeVideoPlayer() {
      document.getElementById('videoPlayerModal').classList.add('hidden');
      document.getElementById('videoPlayer').pause();
    }

    // جلب بيانات القنوات من الملف وتوليد الأزرار
    fetch("https://raw.githubusercontent.com/ghaith-99/ghaith-99/refs/heads/main/mytv.json")
      .then(response => response.text())
      .then(text => {
        // ابحث عن بداية مصفوفة القنوات
        const jsonStart = text.indexOf('[');
        if (jsonStart === -1) {
          throw new Error("لم يتم العثور على بداية المصفوفة");
        }
        let jsonString = text.substring(jsonStart);
        // إزالة التعليقات (أي محتوى بين /* و */)
        jsonString = jsonString.replace(/\/\*[\s\S]*?\*\//g, '');
        // تحويل النص إلى كائن JSON
        const data = JSON.parse(jsonString);
        console.log(data);
        
        // توليد أزرار القنوات بناءً على البيانات
        const menuContainer = document.getElementById('menuContainer');
        data.forEach(item => {
          const btn = document.createElement('button');
          btn.className = "w-full bg-white text-red-700 font-bold py-2 rounded-lg";
          btn.innerText = item.channel;
          btn.onclick = () => {
            openVideoPlayer(item.channel, item.url, item.logo);
          };
          menuContainer.appendChild(btn);
        });
      })
      .catch(error => {
        console.error("خطأ في جلب بيانات القنوات:", error);
      });
  </script>
</body>
</html>
